<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><meta name="author" content="OpenTable"><link rel="icon" href="/favicon.png"><title>OpenTable Tech UK Blog</title><meta name="description"><link rel="alternate" type="application/rss+xml" title="OpenTable Tech UK Blog" href="/atom.xml"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/main.css"><script src="//fonts.otstatic.com/zys4lfz.js"></script><link rel="stylesheet" href="/css/highlight.css">
</head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class="container-fluid"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#main-navbar" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">OpenTable Tech UK Blog</a></div><div id="main-navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="/about/">About</a></li><li><a href="/archives/">Archive</a></li><li><a href="/blog/authors/">Authors</a></li></ul></div><div class="avatar-container"><div class="avatar-img-border"><a href="/"><img src="/opentable.png" class="avatar-img"></a></div></div></div></nav><div id="header-big-imgs" data-num-img='3' data-img-src-1="/bigimgs/building.jpg" data-img-desc-1="Alphabeta Building" data-img-src-2="/bigimgs/kitchen.jpg" data-img-desc-2="OpenTable London office" data-img-src-3="/bigimgs/office.jpg" data-img-desc-3="OpenTable Engineers"></div><header class="header-section has-img"><div class="intro-header big-img"><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="page-heading"><h1>OpenTable Tech UK Blog</h1><hr class="small"><span class="page-subheading">The technology blog for OpenTable UK.</span></div></div></div></div><span class="img-desc"></span></div></header><div role="main" class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="posts-list"><article class="post-preview"><a href="/blog/2013/08/08/grunt-your-deployments-too/"><h2 class="post-title">Grunt your deployments too</h2></a><p class="post-meta">Posted on 8 August 2013 · <a href="/blog/categories/JavaScript/" class="tag post-meta">JavaScript</a> · <a href="/blog/categories/Grunt/" class="tag post-meta">Grunt</a> · <a href="/blog/categories/Deployment/" class="tag post-meta">Deployment</a></p><div class="post-entry"><p>We’ve been using <a href="http://www.gruntjs.com" target="_blank" rel="noopener">Grunt</a> as a build tool for our nodejs apps, and it’s brilliant. It lints, it configures, it minifies, it tests and it packages.</p>
<p>As we move towards getting our first node app into production, we were looking at ways to deploy it. First we thought of <a href="http://www.capistranorb.com" target="_blank" rel="noopener">Capistrano</a>.</p>
<p><strong><em>Capistrano</em></strong> is a fully featured deployment framework written in ruby and levering rake style tasks. It’s extremely powerful and very robust, plus there is a <a href="https://github.com/loopj/capistrano-node-deploy" target="_blank" rel="noopener">gem for node deployments</a>. Alas, it was not to be. After half a day of tail chasing and hoop jumping, it occurred to me that there must be an easier way. Capistrano was encouraging me to make my project fit their template, rather than allowing me to configure the deployment to match my project. When I dug down into the Capistrano source, I found that it was just using ssh and sftp to run remote commands and copy files. But we can simplify this process.</p>
<p><strong><em>Grunt</em></strong> has been great so far, so I started looking at deploying directly through grunt. We would be deploying to Ubuntu server boxes, so the only tools necessary are ssh and sftp.</p>
<p>There are Grunt modules for nearly <a href="https://npmjs.org/search?q=grunt" target="_blank" rel="noopener">everything</a> (linting, minifying, testing, waiting, packaging, shell-exec’ing, tagging, etc.), and rather predictably, sshing (with sftp).</p>
<p><a href="https://github.com/andrewrjones/grunt-ssh" target="_blank" rel="noopener">Grunt-ssh</a> provides tasks for executing remote ssh commands, and for copying files using ssh. Let’s dive into some code.</p>
<p><strong><em>SSH commands</em></strong></p>
<p>This is going to go over some old ground (available on the Grunt-ssh <a href="https://github.com/andrewrjones/grunt-ssh" target="_blank" rel="noopener">readme</a>), but we can build up the commands pretty quick.</p>
<p>This is the basic config for executing ssh commands from your Gruntfile:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">module.exports = function(grunt) &#123;</span><br><span class="line">  	grunt.initConfig(&#123;</span><br><span class="line">    	sshexec: &#123;</span><br><span class="line">      uptime: &#123;</span><br><span class="line">        command: &quot;uptime&quot;,</span><br><span class="line">        options: &#123;</span><br><span class="line">          host: &quot;127.0.0.1&quot;,</span><br><span class="line">          port: 22</span><br><span class="line">          username: &quot;myuser&quot;,</span><br><span class="line">          password: &quot;mypass&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  // Load the plugin that provides the &quot;sshexec&quot; task.</span><br><span class="line">  grunt.loadNpmTasks(&apos;grunt-ssh&apos;);</span><br><span class="line"></span><br><span class="line">  // Default task.</span><br><span class="line">  grunt.registerTask(&apos;default&apos;, [&apos;sshexec:uptime&apos;]);</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div><a href="/blog/2013/08/08/grunt-your-deployments-too/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/blog/2013/08/07/mapreduce-in-mongodb/"><h2 class="post-title">MapReduce in MongoDB</h2></a><p class="post-meta">Posted on 7 August 2013 · <a href="/blog/categories/Innovation/" class="tag post-meta">Innovation</a> · <a href="/blog/categories/JavaScript/" class="tag post-meta">JavaScript</a> · <a href="/blog/categories/MapReduce/" class="tag post-meta">MapReduce</a> · <a href="/blog/categories/MongoDB/" class="tag post-meta">MongoDB</a></p><div class="post-entry"><p>One of the first things I took on when joining OpenTable was building a new endpoint in our reviews API to aggregate and summarise restaurant review data. Thankfully, at the time, all the data I needed was cached in memory so building the response object was a simple set of linq queries over the cached reviews.</p>
<h2 id="The-problem"><a href="#The-problem" class="headerlink" title="The problem"></a>The problem</h2><p>Over time the number of reviews grow, and grow, and grow!  In fact it is inevitable that, in time, it will reach a point where caching all this data in memory would be madness.  One option to mitigate this would be to limit the cache to a fixed date range but this won’t work in this instance because the summary logic supports custom date ranges.  Another option would be to pull the data from the persistence store each and every time it’s required however this would seriously impact load on the infrastructure and degrade performance of the API.</p>
<p>We like to be proactive at OpenTable, so during innovation time (yes! we get time to innovate on our development) I looked at finding an alternate solution that would meet the requirements of the logic and wouldn’t drastically increase load or degrade performance.</p>
<h2 id="The-solution"><a href="#The-solution" class="headerlink" title="The solution"></a>The solution</h2><p>MongoDB supports <a href="http://en.wikipedia.org/wiki/MapReduce" target="_blank" rel="noopener">MapReduce</a> which allows processing large volumes of data (Map), running arbitrary logic to summarise (Reduce) and producing some results.  In MongoDB the MapReduce functionality uses JavaScript functions to perform the map and reduce steps and the syntax is relatively simple to understand:-</p>
<pre><code>db.largeDataset.mapReduce(mapFunction, 
                          reduceFunction, 
                          { out: &quot;summary&quot; }
</code></pre><p>In the above example the largeDataset collection is mapped using the predefined mapFunction, the results are passed to the reduceFunction and the reduced data is finally stored in the summary collection. On top of this you can specify queries as well as a finalize function to “tweak” the reduce results.</p>
<p>Because map, reduce &amp; finalize are functions that only operate on their inputs the workload can be parallelized although the final results would be stored in one location.</p>
<h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4></div><a href="/blog/2013/08/07/mapreduce-in-mongodb/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/blog/2013/08/05/using-vagrant-to-work-with-elasticsearch-on-your-local-machine/"><h2 class="post-title">Using Vagrant to work with ElasticSearch on your local machine</h2></a><p class="post-meta">Posted on 5 August 2013 · <a href="/blog/categories/ElasticSearch/" class="tag post-meta">ElasticSearch</a> · <a href="/blog/categories/Vagrant/" class="tag post-meta">Vagrant</a> · <a href="/blog/categories/DevOps/" class="tag post-meta">DevOps</a></p><div class="post-entry"><p>Recently, I have started to work a lot more with <a href="http://www.vagrantup.com/" target="_blank" rel="noopener">Vagrant</a> as a tool for creating a standard development environment across my team. This essentially means that regardless what the developers’ machine is set up or running as, they can still reproduce the same environment as their colleagues just by entering a command. </p>
<p>Configuration managgement is something we have had to embrace to help us maintain an ever changing world of technologies. The hardest thing is knowing what we actually have to build in these environments. We use Vagrant to help us understand this. The simple flow is as follows:</p>
<ul>
<li>Developer starts a new project</li>
<li>Developer creates a Vagrantfile to spin up a local VM</li>
<li>Vagrantfile gets iterated on as the development process goes forward</li>
</ul>
<p>Once the developer understands what they need to actually run their software, we would then go about creating an environment to which this software will actually be deployed for end-to-end testing. I won’t go any further into the details of our Vagrant flow in this post, if you want to read more about how to get started with Vagrant, then I would suggest reading <a href="http://shop.oreilly.com/product/0636920026358.do" target="_blank" rel="noopener">Vagrant Up and Running</a> by <a href="https://twitter.com/mitchellh" target="_blank" rel="noopener">Mitchell Hashimoto</a>.</p>
<h2 id="Vagrant-and-ElasticSearch"><a href="#Vagrant-and-ElasticSearch" class="headerlink" title="Vagrant and ElasticSearch"></a>Vagrant and ElasticSearch</h2><p>Whilst reviewing a book on <a href="http://www.elasticsearch.org/" target="_blank" rel="noopener">ElasticSearch</a>, I noticed how simple the instructions were to get up and running with ElasticSearch. Please note, that there are already lots of Puppet modules for configuring ElasticSearch on <a href="http://forge.puppetlabs.com/modules?q=elasticsearch" target="_blank" rel="noopener">Puppetlabs Forge</a>. This post only talks about how I was able to quickly spin up some local instances. I didn’t want to manually do this, so I decided to use Vagrant (and Puppet) to take care of it for me. The instructions can be summarised as follows:</p>
<ul>
<li>Download and install the JavaSDK</li>
<li>Download the specific ElasticSearch package</li>
<li>Install ElasticSearch</li>
<li>Download and install curl (to be able to interact with ElasticSearch)</li>
<li>Make sure the service is started</li>
</ul>
<p>I hate doing this manually. Luckily, with the correct script, I am able to automate all of this as follows:</p>
<pre><code>Vagrant.configure(&quot;2&quot;) do |config|
    config.vm.box = &quot;Ubuntu precise 64 VMWare&quot;
    config.vm.box_url = &quot;http://files.vagrantup.com/precise64_vmware.box&quot;
    config.vm.network :forwarded_port, guest: 9200, host: 9200
    config.vm.provision :puppet do |puppet|
        puppet.module_path = &apos;../setup/modules&apos;
        puppet.manifests_path = &apos;../setup/manifests&apos;
        puppet.manifest_file = &apos;default.pp&apos;
        puppet.options = &apos;--verbose --debug&apos;
    end
end
</code></pre><p>Essentially, this script says to create a clone of a VM from a predefined box, forward port 9200 on the vm to 9200 on my local machine and then provision the server using Puppet. The Puppet script works as follows:</p></div><a href="/blog/2013/08/05/using-vagrant-to-work-with-elasticsearch-on-your-local-machine/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/blog/2013/07/24/one-gun-many-enemies/"><h2 class="post-title">One Gun - Many Enemies</h2></a><p class="post-meta">Posted on 24 July 2013 · <a href="/blog/categories/Testing/" class="tag post-meta">Testing</a> · <a href="/blog/categories/JavaScript/" class="tag post-meta">JavaScript</a> · <a href="/blog/categories/Jasmine/" class="tag post-meta">Jasmine</a></p><div class="post-entry"><p>I spent some time, re-investigating Javascript. After a few months of intensive TDD and SOLID training at OpenTable I was curious how those principles apply in a slightly different environment. Guess what, they do not differ that much… I planned to write about all this sometime in the future after gaining more experience from real battles ahead, however <a href="http://watirmelon.com/2013/02/09/why-i-dont-like-Jasmine/" target="_blank" rel="noopener">Watirmelon post</a> invited me to attack this subject immediately.</p>
<p>I went through the available testing frameworks for Javascript and decided on Jasmine. Why? Mainly because of its BDD syntax which is fashionable this season. The second reason is that it has really cool documentation. Finally, the basic set up of just running an HTML file in a browser got me up and running fast.</p>
<p>Let’s look at the basics - what I expect from different types of tests and how Jasmine fits into those requirements: </p>
<h2 id="Unit-Testing"><a href="#Unit-Testing" class="headerlink" title="Unit Testing"></a>Unit Testing</h2><h3 id="Advice-from-senior-craftsman"><a href="#Advice-from-senior-craftsman" class="headerlink" title="Advice from senior craftsman"></a>Advice from senior craftsman</h3><ul>
<li>Shoot them one by one<br>(structure your code so that it is easier to maintain)</li>
<li>Be sure you kill with every shot<br>(verify small bits of code to nail down issues)</li>
<li>Kill them all<br>(verify edge cases)</li>
<li>Kill them quick<br>(provide fast feedback on issues)</li>
<li>Choose a fast shooting gun - the faster you shoot, the more enemies you will kill<br>(unit tests must be blazing fast)</li>
<li>Choose the most reliable gun - if it is stuck then you are dead<br>(when unit tests are brittle you will stop depending on them)</li>
<li>Your gun needs to be light enough to carry everywhere<br>(unit tests are your gun, so you must be able to run them all locally)</li>
</ul>
<p>Jasmine works great for all those aims, as it is really fast and it allows you to stub both objects and DOM elements (especially combined with a Jasmine-jQuery plugin). Keep in mind that Unit Testing is useful only if you either write new code or refactor old code. Do not ever try to write Unit Tests for existing code which you don’t intend to refactor. It’s like shooting the dead. You simply cannot kill them with another bullet.</p>
<h2 id="Integration-Testing"><a href="#Integration-Testing" class="headerlink" title="Integration Testing"></a>Integration Testing</h2><h3 id="Advice-from-senior-craftsman-1"><a href="#Advice-from-senior-craftsman-1" class="headerlink" title="Advice from senior craftsman"></a>Advice from senior craftsman</h3><ul>
<li>Beware of the hidden sniper<br>(test against external dependencies like files, databases, network services)</li>
<li>You are part of your squad<br>(verify that components of the application work well together)</li>
<li>Observe the environment<br>(try to use depenedencies as close to the real problem as possible e.g. example file, database with test data, test version of an external service)</li>
<li>Point in the right direction<br>(do not try to test your stack top-down, instead concentrate on interfaces and adapters that you could not test in unit tests)</li>
</ul></div><a href="/blog/2013/07/24/one-gun-many-enemies/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/blog/2013/07/08/managing-windows-certificates-with-powershell/"><h2 class="post-title">Managing Windows Certificates with PowerShell</h2></a><p class="post-meta">Posted on 8 July 2013 · <a href="/blog/categories/Automation/" class="tag post-meta">Automation</a> · <a href="/blog/categories/PowerShell/" class="tag post-meta">PowerShell</a> · <a href="/blog/categories/DevOps/" class="tag post-meta">DevOps</a></p><div class="post-entry"></div><a href="/blog/2013/07/08/managing-windows-certificates-with-powershell/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/blog/2013/06/18/ndcoslo/"><h2 class="post-title">NDC Oslo</h2></a><p class="post-meta">Posted on 18 June 2013 · <a href="/blog/categories/Conferences/" class="tag post-meta">Conferences</a></p><div class="post-entry"></div><a href="/blog/2013/06/18/ndcoslo/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/blog/2013/06/14/windows-feature-management-with-powershell/"><h2 class="post-title">Windows Feature Management with PowerShell</h2></a><p class="post-meta">Posted on 14 June 2013 · <a href="/blog/categories/Automation/" class="tag post-meta">Automation</a> · <a href="/blog/categories/PowerShell/" class="tag post-meta">PowerShell</a> · <a href="/blog/categories/DevOps/" class="tag post-meta">DevOps</a></p><div class="post-entry"><p>In late 2012, our development team started to move towards our systems being much more automated. Long gone are the days of developers creating runbooks in Word and giving them to our operations team to use to set up our production servers. </p>
<p>When building our webservers on Windows, in order to install / activate Windows features, this was the general set of instructions that was needed to be followed:</p>
<ul>
<li>Click Start Button</li>
<li>Click on Control Panel</li>
<li>Click on Programs</li>
<li>Click on Turn Windows features on or off</li>
</ul>
<p>This would present a screen as follows:</p>
<img src="/images/posts/windowsfeature.png" class="center">
<p>You would need to find the correct features to enable and check the box, press OK and then wait for the features to be installed. </p>
<p>When Microsoft introduced Windows Server 2008 and PowerShell 2.0, they also introducted the module ‘ServerManager’. This is a module that allows us to interact, with PowerShell, Windows Features using a range of cmdlets:</p>
<ul>
<li>Get-WindowsFeature</li>
<li>Add-WindowsFeature</li>
<li>Remove-WindowsFeature</li>
</ul>
<p>This meant that instead of creating runbooks in Word, our developers could create automation scripts that would take a base Windows Server 2008 server and enable all the Windows Features needed to run our applications. This allowed our operations team to move much faster in configuring our servers. </p>
<p>To turn on the ASP.NET Application Development features in Windows, we would run the following script from PowerShell:</p></div><a href="/blog/2013/06/14/windows-feature-management-with-powershell/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/blog/2013/06/07/nlocalgeocoder/"><h2 class="post-title">nLocalGeoCoder</h2></a><p class="post-meta">Posted on 7 June 2013 · <a href="/blog/categories/OSS/" class="tag post-meta">OSS</a> · <a href="/blog/categories/Net/" class="tag post-meta">.Net</a> · <a href="/blog/categories/C/" class="tag post-meta">C#</a> · <a href="/blog/categories/Ruby/" class="tag post-meta">Ruby</a> · <a href="/blog/categories/Collaboration/" class="tag post-meta">Collaboration</a></p><div class="post-entry"><h2 id="History"><a href="#History" class="headerlink" title="History"></a>History</h2><p>With OpenTable having engineering teams spread across multiple offices it’s important for us to maintain open email dialogue about new products us or our teams have created, new tools we’ve discovered or problem solving approaches that have helped us achieve our goals.  Recently in one of these emails Aish introduced the team to a new open source ruby implementation of reverse geocode lookup for latitude and longitude he’d written called <a href="https://github.com/aishfenton/local-geocoder" target="_blank" rel="noopener">local-geocoder</a>.  With an interest in understanding how this worked, to learn a bit of ruby, to make this project accessible to .net developers and just to see how long it would take I decided to port it to C# and .net.</p>
<h2 id="How-reverse-geocoding-works"><a href="#How-reverse-geocoding-works" class="headerlink" title="How reverse geocoding works"></a>How reverse geocoding works</h2><p>Latitude and longitude geographical coordinates are great but 37.819548,-122.479046 doesn’t really mean much to me. Knowing this is in the San Francisco bay area is much more useful interpretation.</p>
<p>That’s where reverse geocoding comes in.  Normally geocoding tries to locate geographical coordinates from other data like postal (zip) codes or street level addresses.  Reverse geocoding does the opposite and can, given enough lookup data, be very precise.</p>
<p>There are a number of online reverse geocoding providers, like Google, who can perform this for you however there are normally usage limits or costs for using them.  To add to this the latency of these service can slow your logic down.  Wouldn’t it be nice if this could be done locally at high speed and in memory.</p>
<h2 id="Using-nLocalGeocoder"><a href="#Using-nLocalGeocoder" class="headerlink" title="Using nLocalGeocoder"></a>Using nLocalGeocoder</h2><p>It’s really easy to use, just new up a Geocoder and you’re off…</p>
<pre><code>var geocoder = new Geocoder();
var result = geocoder.ReverseGeocode(-122.479046M, 37.819548M);
</code></pre><p>The result variable now holds an instance of the Result struct.  This type has the following properties:-</p></div><a href="/blog/2013/06/07/nlocalgeocoder/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/blog/2013/06/07/getting-started-with-specrun/"><h2 class="post-title">Getting Started With SpecRun</h2></a><p class="post-meta">Posted on 7 June 2013 · <a href="/blog/categories/Acceptance-tests/" class="tag post-meta">Acceptance tests</a> · <a href="/blog/categories/Automation/" class="tag post-meta">Automation</a> · <a href="/blog/categories/SpecRun/" class="tag post-meta">SpecRun</a> · <a href="/blog/categories/CI/" class="tag post-meta">CI</a></p><div class="post-entry"><h2 id="First-some-background"><a href="#First-some-background" class="headerlink" title="First some background"></a>First some background</h2><p>We recently switched from writing automated acceptance from Cucumber to SpecFlow… this is no slight on Cucumber it’s just that we had a lot of C# developers who wanted to get closer to writing acceptance tests. Worth adding that SpecFlow has also come a long way as a .Net port of Cucumber and is pretty much like for like now.</p>
<h2 id="Why-should-I-bother-with-SpecRun"><a href="#Why-should-I-bother-with-SpecRun" class="headerlink" title="Why should I bother with SpecRun?"></a>Why should I bother with SpecRun?</h2><p>Initially we ran our entire unit, integration and acceptance tests via nUnit. Pretty much industry standard but we felt nUnit wasn’t really a good tool to run acceptance tests - yes it’ll do the job but we were looking for better performance, quicker failure feedback and more comprehensive reporting. If you want details on SpecRun vs. nUnit Gasper has a <a href="http://gasparnagy.com/2011/09/specrun-because-integration-tests-are-not-unit-tests/" target="_blank" rel="noopener">great blog post</a>.</p>
<salespitch>SpecRun itself is free to use although there is a random delay when running acceptance locally, setting up SpecRun on a CI environment is totally free and does not include the same delay. Definitely worth trying out and you can purchase a licence later if you like what it offers.</salespitch>

<h2 id="Installing-SpecRun"><a href="#Installing-SpecRun" class="headerlink" title="Installing SpecRun"></a>Installing SpecRun</h2><p>If you are already using SpecFlow with nUnit the migration to SpecRun is really simple - <a href="http://www.youtube.com/watch?v=c2ge90BWeI0" target="_blank" rel="noopener">this video</a> shows you how to setup the test runner but I found myself having to watch it too many times. This post is an attempt at recording the steps should we roll out SpecRun for another project.  </p>
<p>I’m assuming you’re running Visual Studio and are familiar with Nuget packages. I’ll break it down so I don’t miss anything:</p>
<ol>
<li>In VS, select your Acceptance test project and get the Nuget package down for SpecRun: <code>install-package SpecRun</code>.</li>
<li>You’ll notice Nuget automatically adds configuration to your app.config so it’s safe to remove the nUnit provider setting (this is to enable you to pick and choose your test runner but we prefer to only use SpecRun).</li>
<li>Open the Default.srprofile file and we normally delete any commented settings here.</li>
<li>Still inside Default.srprofile add the properties for projectName and projectId. The projectName is what you see in VS the projectId can be found by opening the acceptance .proj file and taking the projectGuid.</li>
<li>Setup the execution properties - this really depends on what you want to get out of running the tool - what retry count you want, whether to run on multiple threads, etc. Here are the values we normally use:</li>
</ol>
<p><code>&lt;Execution retryFor=&quot;None&quot; stopAfterFailures=&quot;100&quot; testThreadCount=&quot;1&quot; testSchedulingMode=&quot;Sequential&quot; apartmentState=&quot;STA&quot;/&gt;</code></p></div><a href="/blog/2013/06/07/getting-started-with-specrun/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/blog/2013/06/01/about-this-blog/"><h2 class="post-title">Welcome to the OpenTable UK technology blog</h2></a><p class="post-meta">Posted on 1 June 2013</p><div class="post-entry"><p>Hi, my name is Paul Harrington and I’d like to welcome you to the <a href="http://www.opentable.co.uk" target="_blank" rel="noopener">OpenTable UK</a> technology blog &ndash; a place where we’d like to share our passions and introduce you to a whole new world of fabulous dining and amazing technology.</p>

<h2>Who are we?</h2>

<p>First and foremost we’re into food. And restaurants. And delighting our diners with wonderful dining experiences. And if you want to hear more from us about <i>these</i> passions then pay a visit to the <a href="http://blog.opentable.co.uk" target="_blank" rel="noopener">OpenTable UK blog</a> or the <a href="http://press.opentable.co.uk" target="_blank" rel="noopener">OpenTable UK Press Centre</a> and follow <a href="https://twitter.com/opentableuk" target="_blank" rel="noopener">@OpenTableUK</a> on Twitter &ndash; because on this blog you’re only going to hear about our love of technology and all the cool stuff we do with it!<br><br></p><p>But first some introduction is needed. I am the Senior Director of Engineering and have worked at OpenTable for four years. My principal goal is to create environments where awesome teams of Engineers can build awesome software! The specific journey we’ve been through to achieve this is a topic for another day but there is one key message that is worth sharing. When I first arrived, I had a dream that I shared with the team &ndash; <b>to create the best engineering team in the UK</b>. It was an ambitious target and we don’t really have an effective way of testing whether we’ve been successful in that goal. But the consistent belief in achieving that vision was enough to at least make it feel true and it has led to some spectacular results, some of which you will read about on here.</p>

<h2>What do we do?</h2>

<h3>We build great software.</h3>

<p>We’re passionate about high quality code and we use cutting-edge technologies and techniques to achieve it. The core of our system is built in .Net so we have a lot of expertise in this area but we’re not limited to a single language. We like to explore new languages and look to apply it wherever it is relevant. We’re meticulous in the code we write but pragmatic when necessary to deliver the best results for the business. Legacy code is in trouble as we look for every opportunity to get rid of it, but that in itself is never the goal &ndash; the goal is to build great software that delivers value to our customers.</p>

<h3>We believe in testing.</h3>

<p>We test everything we produce to within an inch of its life. We employ TDD and BDD at a unit level and we create suites of integration tests and business readable acceptance tests. We build performance tests, load tests and smoke tests and have our systems continuously monitored so we can spot when issues occur. And we do this all within the Engineering team, there is no “throwing over the wall” to a separate QA team that does all the testing &ndash; the teams of Engineers themselves are responsible for the quality of our systems.</p>

<h3>We move fast.</h3></div><a href="/blog/2013/06/01/about-this-blog/" class="post-read-more">[Read More]</a></article></div><ul class="pager main-pager"><li class="previous"><a href="/page/6">← Newer Posts</a></li></ul></div></div></div><footer><div class="container beautiful-jekyll-footer"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href="https://github.com/opentable" title="GitHub"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-github"></i></span></a></li><li><a href="https://twitter.com/opentabletechuk" title="Twitter"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-twitter"></i></span></a></li><li><a href="https://www.linkedin.com/company/12181" title="LinkedIn"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-linkedin"></i></span></a></li><li><a href="http://stackoverflow.com/jobs/companies/opentable" title="StackOverflow"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-stack-overflow"></i></span></a></li></ul><p class="copyright text-muted">© OpenTable • 2019 • <a href="mailto:undefined"></a>
</p><p class="theme-by text-muted">Theme by
<a href="https://github.com/twoyao/beautiful-hexo">beautiful-hexo</a></p></div></div></div></footer><script src="/js/jquery-1.11.2.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/main.js"></script><script src="/js/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script>(function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
    a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
ga('create', 'UA-2621903-16', 'auto');
ga('send', 'pageview');</script></body></html>