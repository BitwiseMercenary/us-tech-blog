<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><meta name="author" content="OpenTable"><link rel="icon" href="/favicon.png"><title>OpenTable Tech UK Blog</title><meta name="description"><link rel="alternate" type="application/rss+xml" title="OpenTable Tech UK Blog" href="/atom.xml"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/main.css"><script src="//fonts.otstatic.com/zys4lfz.js"></script><link rel="stylesheet" href="/css/highlight.css">
</head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class="container-fluid"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#main-navbar" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">OpenTable Tech UK Blog</a></div><div id="main-navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="/about/">About</a></li><li><a href="/archives/">Archive</a></li><li><a href="/blog/authors/">Authors</a></li></ul></div><div class="avatar-container"><div class="avatar-img-border"><a href="/"><img src="/opentable.png" class="avatar-img"></a></div></div></div></nav><div id="header-big-imgs" data-num-img='3' data-img-src-1="/bigimgs/building.jpg" data-img-desc-1="Alphabeta Building" data-img-src-2="/bigimgs/kitchen.jpg" data-img-desc-2="OpenTable London office" data-img-src-3="/bigimgs/office.jpg" data-img-desc-3="OpenTable Engineers"></div><header class="header-section has-img"><div class="intro-header big-img"><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="page-heading"><h1>OpenTable Tech UK Blog</h1><hr class="small"><span class="page-subheading">The technology blog for OpenTable UK.</span></div></div></div></div><span class="img-desc"></span></div></header><div role="main" class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="posts-list"><article class="post-preview"><a href="/blog/2015/01/19/building-a-living-styleguide-at-opentable/"><h2 class="post-title">Building a living styleguide at OpenTable</h2></a><p class="post-meta">Posted on 19 January 2015 · <a href="/blog/categories/UI/" class="tag post-meta">UI</a> · <a href="/blog/categories/Design/" class="tag post-meta">Design</a> · <a href="/blog/categories/OpenTable/" class="tag post-meta">OpenTable</a> · <a href="/blog/categories/CSS/" class="tag post-meta">CSS</a> · <a href="/blog/categories/Styleguide/" class="tag post-meta">Styleguide</a></p><div class="post-entry"><p>If you’re reading this you’ve probably built yourself a website.  A site - large or small - that’s thrown together or crafted over many months.  And if you have, you’ve probably kept all your CSS class names in your head, or at least been able to go straight to the relevant stylesheets to retrieve them.</p>
<p>Well OpenTable is unsurprisingly built by many engineering teams across multiple continents, and was completely redesigned last year.  And as soon as you have more than a handful of people working on your front-end you will quickly find a well-intentioned developer causing one or both of these problems:</p>
<ul>
<li>Well-intentioned developer adds a new submission form but, like the design Philistine he is, his buttons are <span style="font-family:verdana;font-size:18px;color:#E40000;">18px Verdana #E40000</span>, not the correct <span style="font-family:arial;font-size:16px;color:#DA3743;">16px Arial #DA3743</span></li>
<li>Your good old developer knows which font size and colour it should be, but bungs a duplicate class into a random stylesheet (or worse still, inline)</li>
</ul>
<p>Despite these risks, a single front-end dev (or a team of them) cannot check every new piece of code or they will quickly become a bottleneck.</p>
<h3 id="You-need-some-guidelines"><a href="#You-need-some-guidelines" class="headerlink" title="You need some guidelines"></a>You need some guidelines</h3><p>Offline designers regularly create ‘brand guidelines’ or ‘design standards’ to document the precise way their brand or product should be recreated when outside of their control.  Online, such guidelines are similarly invaluable for maintaining brand and code consistency with multiple engineers and designers, but it is blindingly obvious that a printed or ‘static’ set of guidelines is completely unsuitable for a constantly changing website.</p>
<p>Step forward a ‘living’ styleguide.</p>
<p>A living styleguide gives a visual representation of a site’s UI elements using <strong>the exact same code</strong> as on the website, in most cases via the live CSS.  A living styleguide may also provide reusable CSS and HTML code examples and they are not just for engineers new to the code; I frequently use ours at OpenTable and I wrote the stylesheets in the first place (I can’t be expected to remember everything).</p>
<p>Providing reusable code improves collaboration, consistency and standards, and reduces design and development time - but like most documentation it is essential your guide is always up-to-date and trustworthy.  So if a living styleguide is (theoretically) always up-to-date, how did we build ours?</p>
<h2 id="How-we-built-our-styleguide"><a href="#How-we-built-our-styleguide" class="headerlink" title="How we built our styleguide"></a>How we built our styleguide</h2></div><a href="/blog/2015/01/19/building-a-living-styleguide-at-opentable/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/blog/2015/01/01/explaining-flux-architecture-with-macgyver-dot-js/"><h2 class="post-title">Explaining Flux architecture with macgyver.js</h2></a><p class="post-meta">Posted on 1 January 2015 · <a href="/blog/categories/JavaScript/" class="tag post-meta">JavaScript</a> · <a href="/blog/categories/Macgyver/" class="tag post-meta">Macgyver</a> · <a href="/blog/categories/Flux/" class="tag post-meta">Flux</a></p><div class="post-entry"><h2 id="What-is-Flux"><a href="#What-is-Flux" class="headerlink" title="What is Flux?"></a>What is Flux?</h2><p><a href="https://github.com/facebook/flux" target="_blank" rel="noopener">Flux</a> is an application architectural pattern developed by Facebook. It was developed to solve some of the complexities of the MVC pattern when used at scale by favouring a uni-directional approach. It is a pattern and not a technology or framework.</p>
<p><img src="/images/posts/mvc-scale.png" alt="MVC scale issue"></p>
<p>When applications that use the model-view-controller (MVC) pattern at any scale it becomes difficult to maintain consistent data across multiple views. In particular the case whereby flow between models and views is not uni-directional and may require increasing logic to maintain parity between views when model data is updated. Facebook hit this issue several times and in particular with their unseen count (an incremented value of unseen messages which is updated by several UI chat components). It wasn’t until they realised that the MVC pattern accomodated the complexity that they stepped back from the problem and addressed the architecture.</p>
<p>Flux is intentionally unidirectional.</p>
<p><img src="/images/posts/flux.png" alt="flux"></p>
<p>Key to this architecture is the dispatcher. The dispatcher forms the gatekeeper that all actions must go through. When a view, or views, wish to do something they fire an action which the dispatcher correctly routes via registered callbacks made by the stores. </p>
<p>Stores are responsible for the data and respond to callbacks from the dispatcher. When data is changed they emit change events that views listen to to notify them that data has changed. The view can then respond accordingly (for example to update/rebind).</p>
<p>This will become more obvious when we go through the macgyver.js example.</p>
<h2 id="What-is-macgyver-js"><a href="#What-is-macgyver-js" class="headerlink" title="What is macgyver.js?"></a>What is macgyver.js?</h2></div><a href="/blog/2015/01/01/explaining-flux-architecture-with-macgyver-dot-js/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/blog/2014/12/08/supporting-ie8-in-the-opentable-redesign/"><h2 class="post-title">Supporting IE8 in the OpenTable redesign</h2></a><p class="post-meta">Posted on 8 December 2014 · <a href="/blog/categories/Design/" class="tag post-meta">Design</a> · <a href="/blog/categories/OpenTable/" class="tag post-meta">OpenTable</a> · <a href="/blog/categories/CSS/" class="tag post-meta">CSS</a> · <a href="/blog/categories/Grunt/" class="tag post-meta">Grunt</a> · <a href="/blog/categories/Sass/" class="tag post-meta">Sass</a> · <a href="/blog/categories/Internet-Explorer/" class="tag post-meta">Internet Explorer</a></p><div class="post-entry"><p>We’re really <a href="http://blog.opentable.com/2014/opentables-website-re-designed-re-architected-re-imagined/" target="_blank" rel="noopener">proud to have released</a> last week our redesigned <a href="http://www.opentable.co.uk" target="_blank" rel="noopener">OpenTable</a> site, the culmination of months of hard work from many talented people here in London and in San Francisco.</p>
<p>However despite killing off our old site and its 2004 design, 2.8% of our visitors could have been crying into their keyboard as a far worse opentable.co.uk filled their screen.</p>
<p>That version of OpenTable was our new responsive site viewed in Internet Explorer 8.</p>
<p><img src="/images/posts/redesign-ie8.png" alt="Our redesign before we optimised for IE8"></p>
<p>The fundamental issue is that IE8 doesn’t support media queries so the age-old browser would try to stretch our <em>mobile-first</em> responsive design as wide as it could go - not great across a 27” Thunderbolt.</p>
<p>To solve the problem we first tried the <a href="https://github.com/scottjehl/Respond" target="_blank" rel="noopener">Respond.js</a> polyfill but this didn’t work as we’d hoped.  The main issue appeared to be that because we serve our CSS and JS on a separate sub-domain we fell foul of the browser’s cross-domain security.  We followed the Respond.js instructions to solve this but having no luck we looked for alternatives.</p>
<h2 id="Legacssy"><a href="#Legacssy" class="headerlink" title="Legacssy"></a>Legacssy</h2><p>Further Googling lead us to <a href="https://github.com/robinpokorny/grunt-legacssy" target="_blank" rel="noopener">Legacssy</a>. With this Grunt task we could create a IE8-only stylesheet and not have to serve extra JS and cross-domain proxy files to all visitors.</p>
<p>Our existing process is to create our core CSS with an <code>app.scss</code> file and <a href="https://github.com/sindresorhus/grunt-sass" target="_blank" rel="noopener">grunt-sass</a>.  Our additional step was to create an <code>app_ie8.scss</code> file, parse it with <code>grunt-sass</code> like before, but then also run it through Legacssy.</p>
<h3 id="Our-app-scss-file"><a href="#Our-app-scss-file" class="headerlink" title="Our app.scss file"></a>Our app.scss file</h3></div><a href="/blog/2014/12/08/supporting-ie8-in-the-opentable-redesign/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/blog/2014/11/28/proxying-with-hapi/"><h2 class="post-title">Proxying Services With Hapi.js</h2></a><p class="post-meta">Posted on 28 November 2014 · <a href="/blog/categories/Microservices/" class="tag post-meta">Microservices</a> · <a href="/blog/categories/Hapi-js/" class="tag post-meta">Hapi.js</a> · <a href="/blog/categories/Proxy/" class="tag post-meta">Proxy</a></p><div class="post-entry"><p>I’ve raved in the past about how awesome <a href="http://hapijs.com" target="_blank" rel="noopener">hapi.js</a> is, but I’m going to talk about just a specific case today.</p>
<p>We started off with just a couple of hapi.js apis. This was at a time when standing up new infrastructure was still a bit painful, so inevitably those apis ended up having more functionality in them than they should have. Now it’s easy for us to get infrastructure, so we want to do more of it.</p>
<p>Our goal is to have lots of small(er) apis that just look after one specific piece (skillfully avoiding using the buzzword ‘microservices’).</p>
<p>When you want to split out functionality from one api to another, it can be a pain, especially if you have a lot of consumers who aren’t particularly fast-moving or communicative. Or maybe you don’t know all your consumers up front.</p>
<p>You’ve got a couple of options here:</p>
<ul>
<li><p>Maintain the functionality in two places and slowly migrate consumers across</p>
</li>
<li><p>Use a proxy or routing layer in-front of the api to rewrite or redirect requests</p>
</li>
<li><p>Write code in your api to proxy requests to a different server</p>
</li>
</ul>
<p>The first two options are pretty icky, and frankly the third isn’t all that great either. It all depends on you having the right framework. Do you see where I’m going here?</p>
<h3 id="Enter-Hapi-js"><a href="#Enter-Hapi-js" class="headerlink" title="Enter Hapi.js"></a>Enter Hapi.js</h3><p>Hapi.js has the concept of a ‘proxy’ handler, which can transparently proxy requests to a different server.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">server.route([</span><br><span class="line">  &#123;</span><br><span class="line">    method: <span class="string">'GET'</span>,</span><br><span class="line">    path: <span class="string">'/foo'</span>,</span><br><span class="line">    handler: &#123;</span><br><span class="line">      proxy: &#123;</span><br><span class="line">        host: <span class="string">'my-other-service.mydomain.com'</span>,</span><br><span class="line">        port: <span class="number">80</span>,</span><br><span class="line">        protocol: <span class="string">'http'</span>,</span><br><span class="line">        passThrough: <span class="literal">true</span>,</span><br><span class="line">        xforward: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">]);</span><br></pre></td></tr></table></figure></div><a href="/blog/2014/11/28/proxying-with-hapi/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/blog/2014/11/26/hobknob-v2-dot-0-a-new-dimension/"><h2 class="post-title">Hobknob v2.0: A new dimension</h2></a><p class="post-meta">Posted on 26 November 2014 · <a href="/blog/categories/Hobknob/" class="tag post-meta">Hobknob</a></p><div class="post-entry"><p>Sometimes there is the requirement for more granularity when toggling a feature switch.<br>Version 2.0 of <a href="https://github.com/opentable/hobknob" target="_blank" rel="noopener">Hobknob</a> hopes to address this with feature categories.</p>
<h3 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR."></a>TL;DR.</h3><p>Hobknob now allows you to define categories of features that have multiple toggles per feature.</p>
<p>For example, you can define the ‘Domain Features’ category which allows you to toggle a feature OFF in <code>your-website.com</code>, but ON in <code>your-website.co.uk</code>.</p>
<p><img src="/images/posts/hobknob-domain-features.png" alt="Domain Features"></p>
<h2 id="Categories"><a href="#Categories" class="headerlink" title="Categories"></a>Categories</h2><p>Feature categories are configured with a few pieces of information. For example:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"categories"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"id"</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"Simple Features"</span>,</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"Use when you want your feature to be either on or off"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"id"</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"Domain Features"</span>,</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"Use when you want your features to be toggled separately for different domains"</span>,</span><br><span class="line">      <span class="attr">"values"</span>: [<span class="string">"com"</span>, <span class="string">"couk"</span>, <span class="string">"de"</span>, <span class="string">"commx"</span>, <span class="string">"jp"</span>, <span class="string">"ca"</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"id"</span>: <span class="number">2</span>,</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"Locale Features"</span>,</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"Use when you want your features to be toggled separately for different locales"</span>,</span><br><span class="line">      <span class="attr">"values"</span>: [<span class="string">"en-GB"</span>, <span class="string">"en-US"</span>, <span class="string">"fr-CA"</span>, <span class="string">"de-DE"</span>, <span class="string">"ja-JP"</span>, <span class="string">"es-MX"</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Notice that each category (except the simple feature category) provides an array of accepted toggle values.</p>
<p>All non-simple feature toggles will have the key <code>application-name/feature-name/toggle-name</code>.<br>For example, <code>main-website/show-user-section/com</code>.</p></div><a href="/blog/2014/11/26/hobknob-v2-dot-0-a-new-dimension/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/blog/2014/11/08/interacting-with-elasticsearch-using-hubot/"><h2 class="post-title">Interacting with ElasticSearch using Hubot</h2></a><p class="post-meta">Posted on 8 November 2014 · <a href="/blog/categories/Hubot/" class="tag post-meta">Hubot</a> · <a href="/blog/categories/Chatops/" class="tag post-meta">Chatops</a> · <a href="/blog/categories/ElasticSearch/" class="tag post-meta">ElasticSearch</a></p><div class="post-entry"><p>At OpenTable, we use a few <a href="">ElasticSearch</a> clusters. Our aim was to be able to interact with our ElasticSearch clusters via <a href="http://www.hipchat.com" target="_blank" rel="noopener">HipChat</a> so that we could troubleshoot easily and without having to log into our VPN. We already use <a href="http://hubot.github.com" target="_blank" rel="noopener">Hubot</a> as part of our systems workflow, so it made sense to be able to interact with ElasticSearch with it. </p>
<h3 id="Setting-a-cluster-alias"><a href="#Setting-a-cluster-alias" class="headerlink" title="Setting a cluster alias"></a>Setting a cluster alias</h3><p>When a pager wakes me at 3am, I really do not want to have to try and type the cluster URL into my mobile hipchat client. So the first thing that was added to the script was the ability to give a cluster an alias.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">elasticsearch add alias my-test-alias http://my-cluster.com:9200</span><br></pre></td></tr></table></figure>
<p><img src="/images/posts/elasticsearch-add-alias.png" alt="add-alias"></p>
<p>This allows us to use that alias for all commands going forward. Please note that you can remove and query aliases as well:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">elasticsearch show aliases</span><br></pre></td></tr></table></figure>
<p><img src="/images/posts/elasticsearch-show-aliases.png" alt="show-alias"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">elasticsearch clear alias my-test-alias</span><br></pre></td></tr></table></figure>
<p><img src="/images/posts/elasticsearch-clear-alias.png" alt="clear-alias"></p></div><a href="/blog/2014/11/08/interacting-with-elasticsearch-using-hubot/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/blog/2014/10/31/coach-dont-rescue/"><h2 class="post-title">Coach don't rescue</h2></a><p class="post-meta">Posted on 31 October 2014 · <a href="/blog/categories/Leadership/" class="tag post-meta">Leadership</a> · <a href="/blog/categories/Coaching/" class="tag post-meta">Coaching</a> · <a href="/blog/categories/Work-smarter/" class="tag post-meta">Work smarter</a> · <a href="/blog/categories/Culture/" class="tag post-meta">Culture</a></p><div class="post-entry"><p>I recently attended a fascinating and emotionally-charged talk by <a href="https://twitter.com/sisoma" target="_blank" rel="noopener">Samantha Soma</a> at <a href="https://2014.dareconf.com" target="_blank" rel="noopener">DareConf 2014</a>, <a href="http://vimeo.com/108047198" target="_blank" rel="noopener">‘How to stop rescuing people’</a>. It strongly mirrored my experience of moving into a leadership role and I’d recommend anyone with a spare 30mins to watch it.</p>
<p>Samantha’s talk made me reflect on how I struggle to coach talented individuals; how I can identify when it’s going wrong and what steps I can take to remedy the situation.</p>
<h2 id="Gold-star-syndrome"><a href="#Gold-star-syndrome" class="headerlink" title="Gold star syndrome"></a>Gold star syndrome</h2><p>A new concept for me and a recurring theme throughout the sessions at DareConf, ‘Gold Star Syndrome’ is a fixation on finding validation for your work. I feel this is a result of early childhood values spinning the perception of working life away from the actual reality. As a child, especially during our school years, we discovered that when we do good things, good things happen to us. Remember how it felt to get that gold star in your spelling test or that A+ on an English essay?</p>
<p>That was great in school and even through to University but working life is a much more terse environment and getting positive reenforcement is much less common. As professionals, the majority of our work goes unnoticed - until there is a problem or issue to solve. Then we feel open to the stinging criticism but resentful that months of good work went unnoticed.</p>
<p>When we continue to search for a gold star or continually strive for perfectionism we, as individuals, become much more insular and isolated. We tend to avoid showing our work until it is 100% ready and put up a shield to protect us from any feedback, in fear of being made to look stupid or being called a fraud.</p>
<h2 id="Empowerment"><a href="#Empowerment" class="headerlink" title="Empowerment"></a>Empowerment</h2><p>There is a considerable amount of <a href="http://whatworksforhealth.wisc.edu/program.php?t1=20&amp;t2=6&amp;t3=84&amp;id=311" target="_blank" rel="noopener">research</a> to suggest children who have bad experiences and manage to overcome them tend to grow up to become more rounded adults. By encouraging grit and allowing kids to solve their own problems, children learn they are empowered. They become more creative, more respectful, less dependant on others and display less problem behaviour.</p>
<p>This is also relatively easy to implement and can be as simple as involving children in a decision-making process. ‘What do you want to eat with dinner; carrots or broccoli’? This might progress to ‘What colour socks do you want to wear?’ or ‘Which swing do you want to play on?’</p>
<p>The concept of preventing yourself from controlling a situation is really key to successful coaching. Rescuing people by dictating an outcome  requires one weak person and one strong person. This propagates itself so people drift towards being a victim or a rescuer. A much better outcome would be a group of confident, empowered individuals who are able to work together.</p></div><a href="/blog/2014/10/31/coach-dont-rescue/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/blog/2014/10/22/hobknob-v1-dot-0-now-with-authorization/"><h2 class="post-title">Hobknob v1.0: Now with authorization</h2></a><p class="post-meta">Posted on 22 October 2014 · <a href="/blog/categories/Hobknob/" class="tag post-meta">Hobknob</a></p><div class="post-entry"><p>We are pleased to announce the version 1.0 release of <a href="https://github.com/opentable/hobknob" target="_blank" rel="noopener">Hobknob</a>, our open-source feature toggle management system. With it comes a few additions and several improvements. </p>
<p>This post will expand on some of the changes, in particular, authorisation via access control lists.<br>For an introduction to Hobknob, see our previous post: <a href="/blog/2014/09/04/introducing-hobknob-feature-toggling-with-etcd/">Introducing Hobknob: Feature toggling with etcd</a>.</p>
<h2 id="Authorisation-with-ACLs"><a href="#Authorisation-with-ACLs" class="headerlink" title="Authorisation with ACLs"></a>Authorisation with ACLs</h2><p>A much requested feature was the ability to control who can add/update/delete toggles on an application by application basis. We achieve this via the use if an Access Control List for each application. Users that are part of the ACL for an application are known as application owners.</p>
<p><img src="/images/posts/hobknob-owners.png" alt="Hobknob Owner List"></p>
<p>Application owners can (for an owned application):</p>
<ul>
<li>Add toggles</li>
<li>Set the value of a toggle</li>
<li>Delete toggles</li>
<li>Add additional owners</li>
<li>Remove owners</li>
</ul>
<p>Everyone can:</p>
<ul>
<li>Add an application</li>
<li>See toggles</li>
<li>See application owners</li>
<li>See the audit trail for a toggle</li>
</ul>
<p>When a user creates an new application, they are automatically added as an owner for that application.<br>The user can then add other application owners by clicking the ‘Add user’ button in the Owners panel and entering the users email address.</p></div><a href="/blog/2014/10/22/hobknob-v1-dot-0-now-with-authorization/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/blog/2014/10/06/puppetconf-2014-part-3/"><h2 class="post-title">PuppetConf 2014 - Part 3</h2></a><p class="post-meta">Posted on 6 October 2014 · <a href="/blog/categories/Puppet/" class="tag post-meta">Puppet</a> · <a href="/blog/categories/Conferences/" class="tag post-meta">Conferences</a> · <a href="/blog/categories/PuppetConf-2014/" class="tag post-meta">PuppetConf 2014</a></p><div class="post-entry"><h2 id="Day-2"><a href="#Day-2" class="headerlink" title="Day 2"></a>Day 2</h2><p>This is our summary of PuppetConf 2014. In our <a href="/blog/2014/10/06/puppetconf-2014-part-2/">previous post</a> we gave an overview of the first day of the conference. This post will provide an<br>overview of the final day.</p>
<p>There were even more inspiring keynotes and lots more talks which have given us plenty of ideas to go home and think about.</p>
<h3 id="Key-Notes"><a href="#Key-Notes" class="headerlink" title="Key Notes"></a>Key Notes</h3><h4 id="Animating-the-Puppet-Creating-a-Culture-of-Puppet-Adoption-Dan-Spurling-spurling-Getty-Images-Slides"><a href="#Animating-the-Puppet-Creating-a-Culture-of-Puppet-Adoption-Dan-Spurling-spurling-Getty-Images-Slides" class="headerlink" title="Animating the Puppet: Creating a Culture of Puppet Adoption - Dan Spurling (@spurling), Getty Images - Slides"></a>Animating the Puppet: Creating a Culture of Puppet Adoption - Dan Spurling (<a href="https://twitter.com/spurling" target="_blank" rel="noopener">@spurling</a>), Getty Images - <a href="http://www.slideshare.net/PuppetLabs/keynote-animating-the-puppet-creating-a-culture-of-puppet-adoption-puppetconf-2014" target="_blank" rel="noopener">Slides</a></h4><div style="float:right;margin:0 10px 10px 10px;width:50%"><br>  <img src="/images/posts/puppetconf-dan.jpg"><br></div>


<p>Dan Spuring, VP of Tech Services at Getty came out of the gate with a strong message. His <a href="http://www.urbandictionary.com/define.php?term=GSD" target="_blank" rel="noopener">GSD</a> t-shirt<br>giving you a clear understanding of who he is. His talk about creating a culture of Puppet adoption at his company was a great story of how challenging it<br>can be to move various business units with projects of various ages to a configuration-management (with Puppet) ethos.</p>
<p>I think it is good to hear that they are rolling cm out into that huge backlog of legacy infrastructure that we all try to pretend isn’t there.<br>How do you make it integrate into existing processes? How do you sell the DevOps message at the same time as introducing a tool like Puppet into the mix as<br>part of that message? Dan gave some thoughts on this and it was good to hear some of that from someone who appears to be on the other side of that challenge.</p>
<p>One of the analogies that he used I that found quite useful was that undertaking a project like this is like moving a boulder. It requires an executive sponsor to<br>get the thing moving at all and then it requires everyone pulling in the same direction if it’s ever doing to get anywhere.</p>
<p>The big take-away was that you need to puppetize right away - that you can’t wait for the right environment or conditions to start doing it, you just need<br>start now and demonstrate it. This echo’s the Continuous Delivery ideal of “if it hurts, then do it more often”.</p></div><a href="/blog/2014/10/06/puppetconf-2014-part-3/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/blog/2014/10/06/puppetconf-2014-part-2/"><h2 class="post-title">PuppetConf 2014 - Part 2</h2></a><p class="post-meta">Posted on 6 October 2014 · <a href="/blog/categories/Puppet/" class="tag post-meta">Puppet</a> · <a href="/blog/categories/Conferences/" class="tag post-meta">Conferences</a> · <a href="/blog/categories/PuppetConf-2014/" class="tag post-meta">PuppetConf 2014</a></p><div class="post-entry"><h2 id="Day-1"><a href="#Day-1" class="headerlink" title="Day 1"></a>Day 1</h2><p>This is our summary of PuppetConf 2014. In our <a href="/blog/2014/10/06/puppetconf-2014-part-1/">previous post</a> we gave an overview of the contributor summit. This post will provide an overview<br>of the first day of PuppetConf.</p>
<p>As you might expect there were great keynotes with plenty of announcements and too many talks for us to attend. We have provided an outline for all the talks<br>we did attend and links to those we didn’t.</p>
<h3 id="KeyNotes"><a href="#KeyNotes" class="headerlink" title="KeyNotes"></a>KeyNotes</h3><h4 id="Nearly-a-Decade-of-Puppet-What-We’ve-Learned-and-Where-We’re-Going-Next-Luke-Kanies-PuppetLabs-Slides"><a href="#Nearly-a-Decade-of-Puppet-What-We’ve-Learned-and-Where-We’re-Going-Next-Luke-Kanies-PuppetLabs-Slides" class="headerlink" title="Nearly a Decade of Puppet: What We’ve Learned and Where We’re Going Next - Luke Kanies, PuppetLabs - Slides"></a>Nearly a Decade of Puppet: What We’ve Learned and Where We’re Going Next - Luke Kanies, PuppetLabs - <a href="http://www.slideshare.net/PuppetLabs/luke-kanies-keynote-nearly-a-decade-of-puppet-what-weve-learned-and-where-were-going-next-puppetconf-2014" target="_blank" rel="noopener">Slides</a></h4><div style="float:right;margin:0 10px 10px 10px;width:50%"><br>  <img src="/images/posts/puppetconf-luke-1.jpg"><br></div>

<p>The big keynote of the event to kick off the first day from the author of Puppet himself. This was obviously going to be a tweet worthy affair full of photos<br>and big announcements and it did not disappoint.</p>
<p>Native Clients (CFactor + C++ rewrite of agents) are coming in the very near future. This is not only a matter of improving the performance for existing users part<br>of philosophy of PuppetLabs to become ubiquitous across as many devices and platforms as possible. This is one of those improvements that is really setting up<br>PuppetLabs for the future.</p>
<p>Puppet Server (a.k.a the Clojure rewrite). This is PuppetLabs big move away from Ruby on onto the JVM. Being on the JVM means they can slowly rewrite the<br>codebase while also maintaining compatibility thanks to JRuby. They have gained a lot of experience with Clojure thanks to the PuppetDB &amp; TrapKeeper projects and given how<br>successful that project has been it has helped ease many of the fears people have in moving the JVM. Puppet Server is also a self contained application so there<br>is no longer any need to worry about the whole apache/passanger yak shave. There was even a demo on the metrics that are now exposed by Puppet Server - yes<br>you can now plug Puppet into graphite.</p>
<p>There have been plenty of follow-ups on this that you might be interested in reading:</p></div><a href="/blog/2014/10/06/puppetconf-2014-part-2/" class="post-read-more">[Read More]</a></article></div><ul class="pager main-pager"><li class="previous"><a href="/page/2">← Newer Posts</a></li><li class="next"><a href="/page/4">Older Posts →</a></li></ul></div></div></div><footer><div class="container beautiful-jekyll-footer"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href="https://github.com/opentable" title="GitHub"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-github"></i></span></a></li><li><a href="https://twitter.com/opentabletechuk" title="Twitter"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-twitter"></i></span></a></li><li><a href="https://www.linkedin.com/company/12181" title="LinkedIn"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-linkedin"></i></span></a></li><li><a href="http://stackoverflow.com/jobs/companies/opentable" title="StackOverflow"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-stack-overflow"></i></span></a></li></ul><p class="copyright text-muted">© OpenTable • 2018 • <a href="mailto:undefined"></a>
</p><p class="theme-by text-muted">Theme by
<a href="https://github.com/twoyao/beautiful-hexo">beautiful-hexo</a></p></div></div></div></footer><script src="/js/jquery-1.11.2.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/main.js"></script><script src="/js/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script>(function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
    a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
ga('create', 'UA-2621903-16', 'auto');
ga('send', 'pageview');</script></body></html>